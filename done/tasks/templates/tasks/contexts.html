{% extends 'base.html' %}
{% load static %}
{% block title %}Contexts management{% endblock title %}
{% block content %}

    <div class="main-section">
      <div class="nto-hrd-div centered large">
        <div class="nto-hdr">
          <div class="done-logo-small">DONE</div>
          <div class="hdr-2">Priorizer</div>
        </div>
        <div>
          <a href="#" class="cntx-btn delete-btn w-button">Delete selected</a>
        </div>
      </div>
      <div class="tbl-frame">
        <table class="task-table_component">
          <thead class="task-table_head">
            <tr class="task-table_row">
              <th class="tbl-hdr cntx-select">Select</th>
              <th class="tbl-hdr cntx-name">Context Name</th>
              <th class="tbl-hdr">Description</th>
            </tr>
          </thead>
          <tbody class="task-table_body">
            {% for cntx in context %}
              <tr class="task-table_row" data-id="{{ cntx.id }}">
                <td class="tbl-cell centered">
                  <input type="checkbox" name="myCheckbox">
                </td>
                <td class="tbl-cell cntx-name" contenteditable="True" data-id="{{ cntx.id }}" data-field="name">{{ cntx.name }}</td>
                <td class="tbl-cell" contenteditable="True" data-id="{{ cntx.id }}" data-field="description">{{ cntx.description }}</td>
              </tr>
            {% endfor %}
            <tr class="task-table_row add-row">
              <td class="tbl-cell centered"> </td>
              <td class="tbl-cell centered italic">add a context<a href="#" class="cntx-btn add w-button">+</a>
              </td>
              <td class="tbl-cell"> </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    {% comment %} <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=652482ea837db348b1939c93" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="js/webflow.js" type="text/javascript"></script> {% endcomment %}
    {% endblock content %}

    {% block custom_js %}
      <script>
        var csrftoken = '{{ csrf_token }}';
      </script>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
      <script src="{% static 'tasks/context-resource.js' %}" id="url"></script>
      <script src="{% static 'tasks/colResizable-1.6.min.js' %}" id="url"></script>
    
    {% endblock custom_js %}